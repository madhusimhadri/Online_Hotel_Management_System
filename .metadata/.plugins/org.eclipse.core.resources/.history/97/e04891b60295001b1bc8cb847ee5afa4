package com.guest.Service;


import static org.assertj.core.api.Assertions.assertThat;
import org.mockito.*;
import org.junit.Test;
import org.junit.runner.RunWith;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.mock.mockito.MockBean;
import org.springframework.test.context.junit4.SpringRunner;

import com.guest.Model.Guest;
import com.guest.Model.Show;
import com.guest.Repository.GuestRepository;


@RunWith(SpringRunner.class)
@SpringBootTest
public class GuestServiceTest {
	
	@Autowired
	private GuestService guestService;
	
	@MockBean
	private GuestRepository guestRepository;
	
	private Show show ;
	
	@Test
	public void testaddGuest()
	{
		Guest guest = new Guest();
		guest.setId("G1");
		guest.setName("Madhu");
		guest.setGender("Male");
		guest.setAge(20);
		guest.setMobileNo("9989976756");
		
		Mockito.when(guestRepository.save(guest)).thenReturn(guest);
		assertThat(guestService.addGuest(guest)).isEqualTo(guest);
	}
	

	
}
